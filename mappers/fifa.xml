<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="FIFA">


<!-- 	로그인	 -->

	<select id="login" parameterType="String" resultType="map">
	
		SELECT
			*
		FROM
			FIFA
		WHERE
			id = #{id}
			
	</select>
	
	
<!-- 	이미지 셀렉트	 -->

	<select id="selectimg" parameterType="String" resultType="map">
	
		SELECT
			${img}
		FROM
			${role}
		WHERE
			name = #{name}
			
	</select>
	
	
<!-- 	피파 등록	 -->

	<insert id="insertfifa" parameterType="map">
	
		INSERT
			INTO FIFA (
				id,
				pw,
				name,
				role
			)
			VALUES (
				#{id},
				#{pw},
				#{name},
				#{role}
			)
				
	</insert>
	
	
<!--	구단 생성	  -->

	<insert id="insertclub" parameterType="map">
	
		INSERT
			INTO Club (
				name,
				emblem,
				anchorage,
				stadium
			)
			VALUES (
				#{name},
				#{emblem},
				#{anchorage},
				#{stadium}
			)
			
	</insert>
	
	
<!--	감독 생성	  -->

	<insert id="insertmanager" parameterType="map">
	
		INSERT
			INTO Manager (
				name,
				profile,
				country,
				birth,
				height,
				weight,
				ovr,
				tactic
			)
			VALUES (
				#{name},
				#{profile},
				#{country},
				#{birth},
				#{height},
				#{weight},
				#{ovr},
				#{tactic}
			)
			
	</insert>
	
	
<!--	선수 생성	  -->

	<insert id="insertplayer" parameterType="map">
	
		INSERT
			INTO Player (
				name,
				profile,
				country,
				birth,
				height,
				weight,
				ovr
			)
			VALUES (
				#{name},
				#{profile},
				#{country},
				#{birth},
				#{height},
				#{weight},
				#{ovr}
			)
			
	</insert>
	
	
<!--	 클럽 리스트		-->

	<select id="listclub" resultType="map">
	
		SELECT
			name,
			stadium,
			anchorage,
			DATE_FORMAT(regdate, '%Y-%m-%d') regdate
		FROM
			Club
		ORDER BY
			regdate ASC
			
	</select>
	
	
<!--	 감독 리스트		-->

	<select id="listmanager" resultType="map">
	
		SELECT
			*
		FROM
			Manager
		ORDER BY
			ovr DESC
			
	</select>
	
	
<!--	 선수 리스트		-->

	<select id="listplayer" resultType="map">
	
		SELECT
			*
		FROM
			Player
		ORDER BY
			ovr DESC
			
	</select>
	
	
<!-- 	클럽 정보	 -->

	<select id="infoclub" parameterType="map" resultType="map">
	
		SELECT
			*
		FROM
			Club
		WHERE
			name = #{name}
			
	</select>
	
	
<!-- 	감독 정보	 -->

	<select id="infomanager" parameterType="map" resultType="map">
	
		SELECT
			name,
			country,
			birth,
			height,
			weight,
			ovr,
			tactic
		FROM
			Manager
		WHERE
			name = #{name}
			
	</select>
	
	
<!-- 	선수 정보	 -->

	<select id="infoplayer" parameterType="map" resultType="map">
	
		SELECT
			name,
			profile,
			country,
			birth,
			height,
			weight,
			ovr,
			history,
			club
		FROM
			Player
		WHERE
			name = #{name}
			
	</select>
	
	
<!-- 	리그 로스터	 -->

	<select id="infoleague" resultType="map">
	
		SELECT
			*
		FROM
			League
	
	</select>
	
	
<!-- 	로스터 등록	 -->

	<update id="updateroster" parameterType="String">
	
		UPDATE
			League
		SET
			roster = #{rosterlist}
		WHERE
			name = 'Legend League'
		
	</update>
	
	
<!-- 	로스터  등록 클럽	 -->

	<update id="updaterosterclubclear">
	
		UPDATE
			Club
		SET
			roster = 0
		
	</update>
	<update id="updaterosterclub" parameterType="String">
	
		UPDATE
			Club
		SET
			roster = 1
		WHERE
			name = #{rosterlist}
		
	</update>
</mapper>